<!DOCTYPE html>
<html lang="ko">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>íŒ¡ëŸ° (PangRun) | êµ­ê°€ ëŒ€í•­ì „</title>

    <link rel="icon" type="image/png" href="íŠ¸ë¡œí”¼.png">

Â  Â  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>

Â  Â  <style>
Â  Â  Â  Â Â 
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Arial', sans-serif;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  background-image: url("ë°°ê²½ì™„ì„±.png");Â 
Â  Â  Â  Â  Â  Â  background-size: cover;Â 
Â  Â  Â  Â  Â  Â  background-position: left bottom;
Â  Â  Â  Â  Â  Â  background-repeat: repeat-x;Â 
Â  Â  Â  Â  Â  Â  transition: background-position 0.1s linear;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  #user-count {
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  Â  Â  position: fixed; top: 10px; left: 10px; width: 150px;
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 255, 0.9); border: 2px solid #333;
Â  Â  Â  Â  Â  Â  border-radius: 8px; padding: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  z-index: 100; text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  #user-count h3 { margin: 0 0 5px 0; font-size: 14px; }
Â  Â  Â  Â  #user-count span { font-size: 20px; font-weight: bold; color: #d90000; }

Â  Â  Â  Â 
Â  Â  Â  Â  #leaderboard {
Â  Â  Â  Â  Â  Â  position: fixed; top: 10px; right: 10px; width: 200px;
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 255, 0.9); border: 2px solid #333;
Â  Â  Â  Â  Â  Â  border-radius: 8px; padding: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  z-index: 100;
Â  Â  Â  Â  }
Â  Â  Â  Â  #leaderboard h3 { margin: 0 0 10px 0; text-align: center; }
Â  Â  Â  Â  #leaderboard ol { margin: 0; padding-left: 20px; }
Â  Â  Â  Â  #leaderboard li { font-size: 16px; margin-bottom: 5px; font-weight: bold; }

Â  Â  Â  Â  #progress-bar-container {
Â  Â  Â  Â  Â  Â  position: fixed; bottom: 20px; left: 5%; width: 90%;
Â  Â  Â  Â  Â  Â  display: flex; align-items: center; z-index: 100;
Â  Â  Â  Â  }
Â  Â  Â  Â  #progress-bar-track {
Â  Â  Â  Â  Â  Â  width: 100%; height: 25px; background-color: #d0d0d0;
Â  Â  Â  Â  Â  Â  border: 2px solid #555; border-radius: 15px; position: relative;
Â  Â  Â  Â  }
Â  Â  Â  Â  .flag-icon {
Â  Â  Â  Â  Â  Â  position: absolute; width: 30px; height: 20px; border: 1px solid #000;
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 4px rgba(0,0,0,0.5); top: -10px;
Â  Â  Â  Â  Â  Â  transform: translateX(-50%); animation: flag-bounce 1s infinite alternate;
Â  Â  Â  Â  }
Â  Â  Â  Â  .flag-icon:nth-child(even) { animation-duration: 0.8s; top: -5px; }
Â  Â  Â  Â  @keyframes flag-bounce {
Â  Â  Â  Â  Â  Â  from { transform: translate(-50%, -5px); }
Â  Â  Â  Â  Â  Â  to { transform: translate(-50%, 0px); }
Â  Â  Â  Â  }

Â  Â  Â  Â  #game-area {
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column; justify-content: flex-end;Â 
Â  Â  Â  Â  Â  Â  align-items: center; height: 100vh; cursor: pointer; padding-bottom: 300px;
Â  Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  Â  #character-img {Â 
Â  Â  Â  Â  Â  Â  width: 200px; height: auto; image-rendering: pixelated;Â 
Â  Â  Â  Â  Â  Â  animation: runner-bounce 0.5s infinite alternate;Â 
Â  Â  Â  Â  Â  Â  position: relative; z-index: 100; margin-bottom: 100px;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes runner-bounce {
Â  Â  Â  Â  Â  Â  from { transform: translateY(0px); }
Â  Â  Â  Â  Â  Â  to { transform: translateY(-10px); }
Â  Â  Â  Â  }

Â  Â  Â  Â 
Â  Â  Â  Â  #my-stats {
Â  Â  Â  Â  Â  Â  position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  font-size: 40px; font-weight: bold; color: white;Â 
Â  Â  Â  Â  Â  Â  text-shadow: 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 3px 3px 5px rgba(0,0,0,0.5);
Â  Â  Â  Â  Â  Â  z-index: 101;
Â  Â  Â  Â  }
Â  Â  Â  Â  #click-prompt { display: none; }
Â  Â  </style>
</head>
<body>

Â  Â  <div id="user-count">
Â  Â  Â  Â  <h3>ë™ì‹œ ì ‘ì†ì</h3>
Â  Â  Â  Â  <span id="users">...</span>
Â  Â  </div>
Â  Â  <div id="leaderboard">
Â  Â  Â  Â  <h3>íŒ¡ëŸ° (PangRun) ì‹¤ì‹œê°„ ë­í‚¹</h3>
Â  Â  Â  Â  <ol></ol>
Â  Â  </div>
Â  Â  <div id="progress-bar-container">
Â  Â  Â  Â  <div id="progress-bar-track">
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="my-stats">ë‚´ê°€ ê¸°ì—¬í•œ ê±°ë¦¬: <span id="my-distance">0</span>m</div>

Â  Â  <div id="game-area">
Â  Â  Â  Â  Â  Â  Â  Â  <img id="character-img" src="ë‹¬ë¦¬ê¸°.png" alt="ëŸ¬ë„ˆ ìºë¦­í„°">Â 
Â  Â  Â  Â  <div id="click-prompt">í™”ë©´ì„ 'íŒ¡!' í´ë¦­í•´ì„œ ë‹¬ë¦¬ê¸°!</div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â 
Â  Â  Â  Â  const socket = io("https://pangrun-site.onrender.com");Â 

Â  Â  Â Â 
Â  Â  Â  Â  const body = document.body;
Â  Â  Â  Â  const gameArea = document.getElementById('game-area');
Â  Â  Â  Â  const myDistanceEl = document.getElementById('my-distance');Â 
Â  Â  Â  Â  const characterImgEl = document.getElementById('character-img');
Â  Â  Â  Â  const leaderboardListEl = document.querySelector('#leaderboard ol');
Â  Â  Â  Â  const userCountEl = document.getElementById('users');
Â  Â  Â  Â  const progressBarTrack = document.getElementById('progress-bar-track');Â 

Â  Â  Â Â 
Â  Â  Â  Â  let myTotalDistance = 0;
Â  Â  Â  Â  let clicksToSend = 0;
Â  Â  Â  Â  let backgroundPositionX = 0;Â 

Â  Â  Â  Â 
Â  Â  Â  Â  gameArea.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  myTotalDistance++;
Â  Â  Â  Â  Â  Â  clicksToSend++;
Â  Â  Â  Â  Â  Â  myDistanceEl.textContent = myTotalDistance;Â 
Â  Â  Â  Â  Â  Â  backgroundPositionX -= 5;Â 
Â  Â  Â  Â  Â  Â  body.style.backgroundPositionX = `${backgroundPositionX}px`;
Â  Â  Â  Â  Â  Â  characterImgEl.style.transform = 'scale(1.1)';Â 
Â  Â  Â  Â  Â  Â  setTimeout(() => { characterImgEl.style.transform = 'scale(1)'; }, 100);
Â  Â  Â  Â  });

Â  Â  Â  Â 
Â  Â  Â  Â  setInterval(() => {
Â  Â  Â  Â  Â  Â  if (clicksToSend > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  socket.emit('sendPang', clicksToSend);
Â  Â  Â  Â  Â  Â  Â  Â  clicksToSend = 0;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }, 2000);

Â  Â  Â  Â  const flagImageMapper = {
Â  Â  Â  Â  Â  Â  'ğŸ‡°ğŸ‡·': 'https://flagcdn.com/w40/kr.png',
Â  Â  Â  Â  Â  Â  'ğŸ‡¯ğŸ‡µ': 'https://flagcdn.com/w40/jp.png',
Â  Â  Â  Â  Â  Â  'ğŸ‡ºğŸ‡¸': 'https://flagcdn.com/w40/us.png',
Â  Â  Â  Â  Â  Â  'ğŸ‡¨ğŸ‡³': 'https://flagcdn.com/w40/cn.png',
Â  Â  Â  Â  Â  Â  'ğŸ‡¹ğŸ‡¼': 'https://flagcdn.com/w40/tw.png',
Â  Â  Â  Â  Â  Â  'ğŸ‡©ğŸ‡ª': 'https://flagcdn.com/w40/de.png',
Â  Â  Â  Â  Â  Â  'ğŸ‡«ğŸ‡·': 'https://flagcdn.com/w40/fr.png',
Â  Â  Â  Â  Â  Â  'ğŸ‘½': 'https://placehold.co/30x20/808080/FFFFFF?text=ETC'Â 
Â  Â  Â  Â  };

Â  Â  Â  Â Â 
Â  Â  Â  Â  socket.on('updateRanking', (payload) => {
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const countriesData = payload.ranking;
Â  Â  Â  Â  Â  Â  const userCount = payload.users;Â 

Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  leaderboardListEl.innerHTML = '';Â 
Â  Â  Â  Â  Â  Â  countriesData.forEach(country => {
Â  Â  Â  Â  Â  Â  Â  Â  const newRankItem = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  newRankItem.textContent = `${country.name}: ${country.distance}m`;
Â  Â  Â  Â  Â  Â  Â  Â  leaderboardListEl.appendChild(newRankItem);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  userCountEl.textContent = userCount.toLocaleString();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  progressBarTrack.innerHTML = '';Â 
Â  Â  Â  Â  Â  Â  if (countriesData.length === 0) return;

Â  Â  Â  Â  Â  Â  const firstPlaceData = countriesData[0];
Â  Â  Â  Â  Â  Â  const lastPlaceData = countriesData[countriesData.length - 1];
Â  Â  Â  Â  Â  Â  let max_distance = firstPlaceData.distance;
Â  Â  Â  Â  Â  Â  let min_distance = lastPlaceData.distance;
Â  Â  Â  Â  Â  Â  let total_gap = max_distance - min_distance;
Â  Â  Â  Â  Â  Â  if (total_gap === 0) { total_gap = 1; min_distance -= 1; }

Â  Â  Â  Â  Â  Â  countriesData.forEach(country => {
Â  Â  Â  Â  Â  Â  Â  Â  const country_distance = country.distance;
Â  Â  Â  Â  Â  Â  Â  Â  let percentage = ((country_distance - min_distance) / total_gap) * 100;

Â  Â  Â  Â  Â  Â  Â  Â  const flagIcon = document.createElement('img');
Â  Â  Â  Â  Â  Â  Â  Â  flagIcon.className = 'flag-icon';
Â  Â  Â  Â  Â  Â  Â  Â  const flagEmoji = country.name.split(' ')[0];
Â  Â  Â  Â  Â  Â  Â  Â  flagIcon.src = flagImageMapper[flagEmoji] || flagImageMapper['ğŸ‘½'];
Â  Â  Â  Â  Â  Â  Â  Â  flagIcon.style.left = `${percentage}%`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  progressBarTrack.appendChild(flagIcon);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });
Â  Â  </script>
</body>

</html>

